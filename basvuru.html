<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SYNOX GAMES â€¢ BaÅŸvuru</title>
  <link rel="stylesheet" href="style.css"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="" type="image/svg+xml" href="/favicon.svg">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
</head>
<body>

  <!-- HoÅŸ Geldiniz EkranÄ± -->
  <div class="welcome" id="welcome">
    <div class="welcome-content">
      <h1 class="glitch" data-text="SYNOX GAMES">SYNOX GAMES</h1>
      <p class="subtitle">Roblox Sohbet Oyunu Ekibine HoÅŸ Geldin</p>
      <button class="enter-btn" onclick="enterForm()">BaÅŸvuruya GeÃ§ â†’</button>
    </div>
  </div>

  <!-- Ana BaÅŸvuru Formu -->
  <main class="form-wrapper" id="mainForm">
    <div class="form-card">
      <h2 class="form-title">Synox Games YÃ¶netim Ekibine KatÄ±l</h2>
      <p class="form-subtitle">Bize Kendini TanÄ±t Ve BaÅŸvuruya KatÄ±l.</p>

      <form id="applicationForm">
        <div class="input-group">
          <input type="text" id="name" required placeholder=" "/>
          <label for="name">AdÄ±n</label>
        </div>

        <div class="input-group">
          <input type="text" id="surname" required placeholder=" "/>
          <label for="surname">SoyadÄ±n</label>
        </div>

        <div class="input-group">
          <input type="number" id="age" min="16" required placeholder=" "/>
          <label for="age">YaÅŸÄ±n</label>
        </div>

        <div class="input-group">
          <textarea id="reason" rows="4" required placeholder=" "></textarea>
          <label for="reason">Ekibe KatÄ±lmayÄ± Neden Tercih Ettin</label>
        </div>

        <div class="input-group">
          <textarea id="experience" rows="5" required placeholder=" "></textarea>
          <label for="experience">Deneyimlerin / Daha Ã–nce Hangi Ekiplerle Ã‡alÄ±ÅŸtÄ±n</label>
        </div>

        <button type="submit" id="submitBtn" class="submit-btn">
          <span>BaÅŸvuruyu GÃ¶nder</span>
        </button>
      </form>

      <div id="message" class="form-message"></div>
    </div>
  </main>

  <footer class="footer">
    <div class="credit">Made with neon & passion by SYNOX GAMES</div>
  </footer>

  <script>
    // HoÅŸ geldin â†’ Form geÃ§iÅŸi
    function enterForm() {
      const welcome = document.getElementById('welcome');
      const main = document.getElementById('mainForm');

      welcome.classList.add('fade-out');
      setTimeout(() => {
        welcome.style.display = 'none';
        main.classList.add('visible');
      }, 800);
    }

    // Form mantÄ±ÄŸÄ± + 40sn cooldown
    const form = document.getElementById('applicationForm');
    const submitBtn = document.getElementById('submitBtn');
    const message = document.getElementById('message');

    let cooldownActive = false;
    const COOLDOWN_SEC = 40;

    function startCooldown() {
      cooldownActive = true;
      submitBtn.disabled = true;
      let timeLeft = COOLDOWN_SEC;

      const interval = setInterval(() => {
        timeLeft--;
        message.textContent = `LÃ¼tfen ${timeLeft} saniye bekle...`;
        message.className = 'form-message warning';

        if (timeLeft <= 0) {
          clearInterval(interval);
          cooldownActive = false;
          submitBtn.disabled = false;
          message.textContent = '';
          message.className = 'form-message';
        }
      }, 1000);
    }

    form.addEventListener('submit', async e => {
      e.preventDefault();
      if (cooldownActive) return;

      const data = {
        name: document.getElementById('name').value,
        surname: document.getElementById('surname').value,
        age: document.getElementById('age').value,
        reason: document.getElementById('reason').value,
        experience: document.getElementById('experience').value,
        date: new Date().toLocaleString('tr-TR'),
        ip: await fetch('https://api.ipify.org?format=json')
          .then(r => r.json())
          .then(d => d.ip)
          .catch(() => 'Bilinmiyor')
      };

      // â˜…â˜…â˜… KENDÄ° DISCORD WEBHOOK'UNU BURAYA YAPIÅžTIR â˜…â˜…â˜…
      const WEBHOOK = 'https://discord.com/api/webhooks/1460021364445417776/Y4Pj8PmDBT2k5ey3ykNpjHbUq0FXuiKP4kSEqKr2AyrDJz3VkW4Og-AucSduZfvieqdl';

      const embed = {
        title: "â˜… Yeni Yetkili BaÅŸvuru â˜…",
        color: 0x9d00ff,
        fields: [
          { name: "Ä°sim", value: data.name, inline: true },
          { name: "Soyisim", value: data.surname, inline: true },
          { name: "YaÅŸ", value: data.age, inline: true },
          { name: "Neden Biz?", value: data.reason || "â€”" },
          { name: "Deneyimler", value: data.experience || "â€”" },
          { name: "Tarih", value: data.date, inline: true },
          { name: "IP", value: data.ip, inline: true }
        ],
        timestamp: new Date().toISOString(),
        footer: { text: "SYNOX GAMES Recruitment" }
      };

      try {
        const res = await fetch(WEBHOOK, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ embeds: [embed] })
        });

        if (res.ok) {
          message.textContent = "BaÅŸvurun alÄ±ndÄ±! ðŸ”¥ TeÅŸekkÃ¼rler";
          message.className = 'form-message success';
          form.reset();
          startCooldown();
        } else {
          throw new Error();
        }
      } catch {
        message.textContent = "Bir hata oluÅŸtu, lÃ¼tfen tekrar dene";
        message.className = 'form-message error';
      }
    });
  </script>
</body>
</html>